<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui">
<h:head>
	<meta charset="UTF-8" />
	<title>GestÃ£o de Empresas</title>
</h:head>
<h:body>
	<h:form>
		<p:idleMonitor timeout="2000">
			<p:ajax event="idle" listener="#{gestaoEmpresasBean.adicionar}" update="tabela" />
			<p:ajax event="active" listener="#{gestaoEmpresasBean.adicionar2}" update="tabela" />
		</p:idleMonitor>
		<f:metadata>
			<f:viewAction action="#{gestaoEmpresasBean.consultar}" />
		</f:metadata>

		<p:dataTable id="tabela" value="#{gestaoEmpresasBean.todasEmpresas}"
			var="empresa" emptyMessage="Nenhuma empresa cadastrada.">
			<p:column headerText="RazÃ£o social">
				<h:outputText value="#{empresa.razaoSocial}" />
			</p:column>
			<p:column headerText="Nome fantasia" width="250">
				<h:outputText value="#{empresa.nomeFantasia}" />
			</p:column>
			<p:column headerText="CNPJ" width="160">
				<h:outputText value="#{empresa.cnpj}" />
			</p:column>
		</p:dataTable>
	</h:form>
</h:body>
</html>